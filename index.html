<!DOCTYPE html>
<html manifest="cc.appcache">
	<head>
		<meta charset="utf-8">
		<title>CigaretteCounter</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script type="text/javascript">window.app=function(a){function b(){return p+=1,i(p),n.innerHTML=p,g(p),e(),c(),!1}function c(){k=document.createElement("div"),k.setAttribute("id","Undo"),k.innerHTML="undo",document.body.appendChild(k),k.addEventListener("click",d),l=setTimeout(e,3e3)}function d(){return p-=1,i(p),n.innerHTML=p,g(p),e(),!1}function e(){l&&clearTimeout(l),l=null,k&&document.body.removeChild(k),k=null}function f(){p=a.getItem("num"),date=a.getItem("date"),p=null==p?0:Number(p),null==date&&(date=j()),date!==j()&&(p=0,date=j()),n.innerHTML="0",i(p,date),g(p),p>=1&&setTimeout(h,150)}function g(a){var b=["Horay!","So far so good!","Not to shabby!","It better after 12PM now!","It's after lunch, so OK!","Start slowing down!","*khm*","You could stop now, you know?","Seriously, time to stop for today.","Hope this is the last one!","Right ... ","You are hopeless!"];o.innerHTML=a<b.length?b[a]:b[b.length-1]}function h(){q+=1,n.innerHTML=q,g(q),p>q&&setTimeout(h,150+2*q)}function i(b,c){a.setItem("num",b),c&&a.setItem("date",c)}function j(){var a=new Date;return""+a.getFullYear()+a.getMonth()+a.getDay()}var k,l,m={},n=null,o=null,p=0,q=0;return m.start=function(a,c){n=document.getElementById(a),o=document.getElementById(c),f(),n.addEventListener("click",b)},m}(window.localStorage);</script>
		<style type="text/css">
		html, head, #NumberContainer {
			height: 100%;
			margin: 0;
			padding: 0;
			font-family: Helvetica;
		}

		#NumberContainer {
			text-align: center;
			font-size: 200px;
			color: #0088cc;
			-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
		}

		#Undo {
			position: fixed;
			top: 10px;
			left: 50%;
			width: 200px;
			margin-left: -105px;
			padding: 5px;
			border-radius: 10px;
			background-color: black;
			opacity: 0.65;
			font-size: 40px;
			color: white;
			text-align: center;
		}

		#Message {
			text-align: center;
			font-weight: bold;
		}
		</style>
	</head>
	<body>
		<div id="NumberContainer">0</div>
		<div id="Message"></div>

		<script type="text/javascript">
		app.start( 'NumberContainer', 'Message' );
		</script>
	</body>
</html>