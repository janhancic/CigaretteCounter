window.app=function(a){function b(){return n+=1,h(n),m.innerHTML=n,e(),c(),!1}function c(){j=document.createElement("div"),j.setAttribute("id","Undo"),j.innerHTML="undo",document.body.appendChild(j),j.addEventListener("click",d),k=setTimeout(e,3e3)}function d(){return n-=1,h(n),m.innerHTML=n,e(),!1}function e(){k&&clearTimeout(k),k=null,j&&document.body.removeChild(j),j=null}function f(){n=a.getItem("num"),date=a.getItem("date"),n=null==n?0:Number(n),null==date&&(date=i()),date!==i()&&(n=0,date=i()),m.innerHTML="0",h(n,date),n>1&&setTimeout(g,150)}function g(){o+=1,m.innerHTML=o,n>o&&setTimeout(g,150+2*o)}function h(b,c){a.setItem("num",b),c&&a.setItem("date",c)}function i(){var a=new Date;return""+a.getFullYear()+a.getMonth()+a.getDay()}var j,k,l={},m=null,n=0,o=0;return l.start=function(a){m=document.getElementById(a),f(),m.addEventListener("click",b)},l}(window.localStorage);